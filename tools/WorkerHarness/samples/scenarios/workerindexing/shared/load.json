{
    "scenarioName": "load function",
    "actions": [
        {
            "actionType": "rpc",
            "actionName": "validate the worker's ability to handle a FunctionLoadRequest message",
            "messages": [
                {
                    "direction": "outgoing",
                    "messageType": "FunctionLoadRequest",
                    "payload": {
                        "FunctionId": "@{HttpTriggerFunctionId}",
                        "Metadata": "${HttpTriggerFunctionMetadata}"
                    }
                },
                {
                    "direction": "outgoing",
                    "messageType": "FunctionLoadRequest",
                    "payload": {
                        "FunctionId": "@{QueueTriggerFunctionId}",
                        "Metadata": "${QueueTriggerFunctionMetadata}"
                    }
                },
                {
                    "direction": "incoming",
                    "messageType": "FunctionLoadResponse",
                    "matchingCriteria": [
                        {
                            "query": "$.FunctionLoadResponse.FunctionId",
                            "expected": "@{HttpTriggerFunctionId}"
                        }
                    ],
                    "validators": [
                        {
                            "type": "string",
                            "query": "$.FunctionLoadResponse.Result.Status",
                            "expected": "Success"
                        }
                    ]
                },
                {
                    "direction": "incoming",
                    "messageType": "FunctionLoadResponse",
                    "matchingCriteria": [
                        {
                            "query": "$.FunctionLoadResponse.FunctionId",
                            "expected": "@{QueueTriggerFunctionId}"
                        }
                    ],
                    "validators": [
                        {
                            "type": "string",
                            "query": "$.FunctionLoadResponse.Result.Status",
                            "expected": "Success"
                        }
                    ]
                }
            ]
        }
    ]
}
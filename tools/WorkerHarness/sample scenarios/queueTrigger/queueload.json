{
    "scenarioName": "a scenario to validate function loading",
    "actions": [
        {
            "actionType": "rpc",
            "actionName": "validate worker's abliblity to handle function load",
            "messages": [
                {
                    "direction": "outgoing",
                    "messageType": "FunctionLoadRequest",
                    "payload": {
                        "Metadata": {
                            "scriptFile": "TestFunctionApp.dll",
                            "EntryPoint": "TestFunctionApp.QueueTrigger.Run",
                            "Name": "QueueTrigger",
                            "Bindings": {
                                "myQueueItem": {
                                    "type": "queueTrigger",
                                    "dataType": "string"
                                }
                            }
                        }
                    },
                    "setVariables": {
                        "queueFunctionId": "$.FunctionLoadRequest.FunctionId"
                    }
                },
                {
                    "direction": "incoming",
                    "messageType": "FunctionLoadResponse",
                    "matchingCriteria": [{
                        "query": "$.FunctionLoadResponse.FunctionId",
                        "expected": "@{queueFunctionId}"
                    }],
                    "validators": [{
                        "type": "string",
                        "query": "$.FunctionLoadResponse.Result.Status",
                        "expected": "Success"
                    }]
                }
            ]
        }
    ]
}